[tools]
rust = "1.84"
node = "22"

[env]
RUST_BACKTRACE = "1"
ROUSE_DATABASE_URL = "sqlite://rouse.db"

[tasks.test]
run = "cargo test --workspace"

[tasks.check]
run = "cargo clippy --workspace -- -D warnings && cargo fmt --check"

[tasks.dev]
run = "cargo watch -x 'run -- serve'"

[tasks.pre-commit]
description = "Run all checks before committing"
run = """
cargo fmt --check
cargo clippy --workspace -- -D warnings
cargo test --workspace
"""
